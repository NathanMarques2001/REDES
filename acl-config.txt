en
conf t

access-list 101 permit ip 192.168.10.0 0.0.0.255 192.168.20.0 0.0.0.255
access-list 101 permit tcp 192.168.10.0 0.0.0.255 host 10.10.10.2 eq 80
access-list 101 permit ip 192.168.20.0 0.0.0.255 192.168.10.0 0.0.0.255
access-list 101 permit tcp 192.168.20.0 0.0.0.255 host 10.10.10.2 eq 80
access-list 101 permit udp any any eq 53

access-list 102 deny ip 192.168.30.0 0.0.0.255 192.168.10.0 0.0.0.255
access-list 102 deny ip 192.168.30.0 0.0.0.255 192.168.20.0 0.0.0.255
access-list 102 permit tcp 192.168.30.0 0.0.0.255 host 10.10.10.2 eq 80
access-list 102 permit udp any any eq 53

interface GigabitEthernet0/0/0.10
ip access-group 101 in

interface GigabitEthernet0/0/0.20
ip access-group 101 in

interface GigabitEthernet0/0/0.30
ip access-group 102 in

exit
exit

write memory